!function(a,b){"function"==typeof define&&define.amd?define("charty/datavalidator",["d3","underscore"],function(a,c){return b(c)}):a.DataValidator=b(_)}(this,function(a){function b(){}return b.prototype.isPositiveNumber=function(b,c){if(!a.isUndefined(b)&&(!a.isNumber(b)||0>b))throw new Error(c);return b},b.prototype.isNumber=function(b,c){if(!a.isUndefined(b)&&!a.isNumber(b))throw new Error(c);return b},b.prototype.isUndefined=function(b,c){if(a.isUndefined(b))throw new Error(c);return b},b}),function(a,b){"function"==typeof define&&define.amd?define("charty/chartyinit",function(){return b()}):a.Charty=b()}(this,function(){var a={};return a}),function(a,b){"function"==typeof define&&define.amd?define("charty/chartynames",["charty/chartyinit"],function(a){return b(a)}):a.Charty=b(Charty)}(this,function(a){return a.CHART_NAMES={AXIS:"Axis",BAR:"Bar",HORIZONTAL_BAR:"HorizontalBar",BASE_CHART:"BaseChart",CIRCLE:"Circle",DONUT:"Donut",LINE:"Line",ROUNDED_RECTANGLE:"RoundedRectangle",TEXT:"Text",TRIANGLE:"Triangle",XY_AXIS:"XYAxis",YXY_AXIS:"YXYAxis",BAR_CHART:"BarChart",LABELED_TRIANGLE_CHART:"LabeledTriangleChart",SCATTERPLOT:"Scatterplot",MULTIPLE_DATA_GROUP:"MultipleDataGroup",MULTIPLE_INSTANCES_MIXIN:"MultipleInstancesMixin",SIMPLE_DATA_GROUP:"SimpleDataGroup",DONUT_INNER_TEXT:"DonutWithInnerText",GROUPED_BAR_CHART:"GroupedBarChart",LINE_CHART:"LineChart",LINE_CHART_CIRCLES:"LineChartCircles"},a.AXIS_TYPE={ORDINAL:"ordinal",LINEAR:"linear"},a.AXIS={X:"x",Y:"y"},a}),function(a,b){"function"==typeof define&&define.amd?define("charty/basescale",["d3.chart","charty/chartynames"],function(a,c){return b(a,c)}):a.BaseScale=b(d3,Charty)}(this,function(a,b){var c=function(){};return c.prototype.getScale=function(){return this.scale},c.prototype.generateRange=function(a){var c;if(this.axisType===b.AXIS.X)c=[0,a];else{if(this.axisType!==b.AXIS.Y)throw new Error("No range was defined for this scale.");c=[a,0]}return c},c}),function(a,b){"function"==typeof define&&define.amd?define("charty/linearscale",["d3.chart","charty/basescale","underscore"],function(a,c,d){return b(a,c,d)}):a.LinearScale=b(d3,BaseScale,_)}(this,function(a,b,c){var d=function(b){this.scale=a.scale.linear(),this.axisType=b};return d.prototype=new b,d.prototype.setDomain=function(a){return this.scale=this.scale.domain(a),this},d.prototype.setRange=function(a){return this.scale=this.scale.range(this.generateRange(a)),this},d.prototype.map=function(a){return this.scale(a)},d.prototype.band=function(a,b){return a-this.scale(b)},d.prototype.calculateDomain=function(b,d){var e=-1/0,f=1/0,g=b.getData(),h=this;g&&!c.isEmpty(g)&&c.each(g,function(b){var g=b.data;if(g&&!c.isEmpty(g)){var i=a.max(g,d),j=a.min(g,d);e=Math.max(i,e),f=Math.min(j,f)}return c.isNaN(e)||c.isNaN(f)?void 0:h.setMaxValue(e).setDomain([Math.min(0,f),Math.max(0,e)])})},d.prototype.setMaxValue=function(a){return this.maxValue=a,this},d.prototype.getMaxValue=function(){return this.maxValue},d}),function(a,b){"function"==typeof define&&define.amd?define("charty/ordinalscale",["d3.chart","charty/basescale"],function(a,c){return b(a,c)}):a.OrdinalScale=b(d3,BaseScale)}(this,function(a,b){var c=function(b){this.scale=a.scale.ordinal(),this.axisType=b};return c.prototype=new b,c.prototype.setDomain=function(a){return this.scale=this.scale.domain(a),this},c.prototype.setRange=function(a){return this.scale=this.scale.rangeRoundBands(this.generateRange(a),.1),this},c.prototype.map=function(a,b){return this.scale(a)+(this.scale.rangeBand()-this.scale.rangeBand()*b)/2},c.prototype.band=function(a){return this.scale.rangeBand()*a},c.prototype.calculateDomain=function(a,b){var c=a.first().data,d=c.map(b);return this.setDomain(d)},c.prototype.defaultDomain=function(){return 0===this.scale.domain().length},c}),function(a,b){"function"==typeof define&&define.amd?define("charty/scalesfactory",["charty/chartynames","charty/ordinalscale","charty/linearscale"],function(a,c,d){return b(a,c,d)}):a.ScaleFactory=b(Charty,OrdinalScale,LinearScale)}(this,function(a,b,c){var d=function(){};return d.prototype.scale=function(d,e){var f;switch(d){case a.AXIS_TYPE.ORDINAL:f=new b(e);break;case a.AXIS_TYPE.LINEAR:f=new c(e)}return f},d}),function(a,b){"function"==typeof define&&define.amd?define("charty/datamapper",["charty/linearscale","charty/ordinalscale","underscore"],function(a,c,d){return b(a,c,d)}):a.DataMapper=b(LinearScale,OrdinalScale,_)}(this,function(a,b,c){var d=function(){this.scales=[]};return d.prototype.addScale=function(a,b){this.baseScale=b?a:null,this.scales.push(a)},d.prototype.getBaseScale=function(){return this.baseScale},d.prototype.map=function(a,b){var d=0;return c.each(this.scales,function(c){d+=c.map(a,b)}),d},d}),function(a,b){return"function"==typeof define&&define.amd?void define("charty/basechart",["d3.chart","underscore"],function(a,c){return b(a,c)}):b(d3,_)}(this,function(a,b){a.chart("BaseChart",{width:function(a){return this.w=a,this.componentsMixins&&b.each(this.componentsMixins,function(b){b.width(a)}),this},height:function(a){return this.h=a,this.componentsMixins&&b.each(this.componentsMixins,function(b){b.height(a)}),this},setXScale:function(a){return this.xscale=a,this.componentsMixins&&b.each(this.componentsMixins,function(b){b.setXScale(a)}),this},setYScale:function(a){return this.yscale=a,this.componentsMixins&&b.each(this.componentsMixins,function(b){b.setYScale(a)}),this},setMixins:function(){this.componentsMixins||(this.componentsMixins=[]);var a=Array.prototype.slice.call(arguments,0),c=this;return b.each(a,function(a){c.componentsMixins.push(a)}),this},setEventManager:function(a){return this.eventManager=a,b.each(this.componentsMixins,function(b){b.setEventManager&&b.setEventManager(a)}),this}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/simpledatagroup",["d3.chart","charty/chartynames","charty/basechart"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.BASE_CHART).extend(b.CHART_NAMES.SIMPLE_DATA_GROUP,{transform:function(a){return a.next()}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/axis",["d3.chart","charty/chartynames"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.BASE_CHART).extend(b.CHART_NAMES.AXIS,{initialize:function(){this.xt=0,this.yt=0;var b={c:"axis"};this.axis=a.svg.axis();var c={dataBind:function(a){return this.selectAll("g").data(a.hasNext()?[!0]:[])},insert:function(){return this.append("g")},events:{enter:function(){var a=this.chart();if(a.grid&&a.axis.tickSize(-a.tsize,0,0),this.classed(b.c,!0).call(a.axis),(0!==a.xt||0!==a.yt)&&this.attr("transform","translate("+a.xt+","+a.yt+")"),a.textLabel){var c=this.append("text").text(a.textLabel);a.labelRotate?c.attr("transform","translate("+-a.w/14+","+(a.h+a.textLabel.length*a.h/32)/2+") rotate("+a.labelRotate+")"):c.attr("transform","translate("+(a.w/2-3.2*a.textLabel.length)+","+a.yt/6+")")}return this},update:function(){return this.call(this.chart().axis)},remove:function(){return this.remove()}}};this.layer("axis",this.base.append("g"),c)},tickSize:function(a){return this.tsize=a||0,this},setScale:function(a){if(!a)throw new Error("Undefined scale for axis.");return this.axis.scale(a.getScale()),this},showAsGrid:function(a){return this.grid=a,this},orient:function(a){return this.axis.orient(a||"bottom"),this},xtranslate:function(a){return this.xt=a,this},ytranslate:function(a){return this.yt=a,this},setTextLabel:function(a,b){return this.textLabel=a,this.labelRotate=b,this},tickCount:function(a){return a&&this.axis.ticks(a),this},tickFormat:function(b){return b&&this.axis.tickFormat(a.format(b)),this}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/horizontalbar",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.HORIZONTAL_BAR,{initialize:function(a){var b={c:"bar-default"},c={dataBind:function(a){var c=this.chart();return c.c=a.c||b.c,this.selectAll("rect").data(a.data)},insert:function(){return this.append("rect")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart(),b=a.xscale.map(0);return this.attr("class",function(b){return b.c||a.c}).attr("x",function(b){return a.xscale.map(Math.min(0,b.x),a.factor)}).attr("y",function(b){return a.yscale.map(b.y,a.factor)}).attr("width",function(c){return Math.abs(a.xscale.map(c.x)-b)}).attr("height",a.yscale.band(a.factor)),a.eventManager.bindAll(this),this},exit:function(){return this.remove()}}},d={dataBind:function(a){return this.selectAll("text").data(a.data)},insert:function(){return this.append("text")},events:{merge:function(){var a=this.chart();return this.attr("x",function(b){return a.xscale.map(b.x,a.factor)}).attr("y",function(b){return a.yscale.map(b.y,a.factor)+a.yscale.band(a.factor)/2}).text(function(a){return a.x}),this},exit:function(){return this.remove()}}};this.layer("horizontalayer",this.base.append("g"),c),a.setTextLabels&&this.layer("textlabels",this.base.append("g"),d)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/bar",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.BAR,{initialize:function(a){var b={c:"bar-default"},c={dataBind:function(a){var c=this.chart();return c.c=a.c||b.c,this.selectAll("rect").data(a.data)},insert:function(){return this.append("rect")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart(),b=a.yscale.map(0),c=a.h-b;return this.attr("class",function(b){return b.c||a.c}).attr("x",function(b){var c=0;return a.zScale&&(c+=a.zScale.map(b.z,1)),c+=a.xscale.map(b.x,a.factor||1)}).attr("width",a.xscale.band(a.factor||1)).attr("y",function(c){return Math.min(b,a.yscale.map(c.y,a.factor))}).attr("height",function(b){return Math.abs(a.yscale.band(a.h,b.y)-c)}),this},exit:function(){return this.remove()}}},d={dataBind:function(a){return this.selectAll("text").data(a.data)},insert:function(){return this.append("text")},events:{merge:function(){{var a=this.chart(),b=a.yscale.map(0);a.h-b}this.attr("x",function(b){var c=0;return a.zScale&&(c+=a.zScale.map(b.z,1)),c+=a.xscale.map(b.x,a.factor||1)+.45*a.xscale.band(a.factor||1)}).attr("y",function(c){return Math.min(b,a.yscale.map(c.y,a.factor))}).text(function(a){return a.y})},exit:function(){return this.remove()}}};this.layer("barlayer",this.base.append("g"),c),a.setTextLabels&&this.layer("textlabels",this.base.append("g"),d)},setZScale:function(a){return this.zScale=a,this}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/circle",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.CIRCLE,{initialize:function(a){var b=a.dataValidator,c=(a.showOnClick,{invalidRadio:"Invalid value : radius for circles must be positive."}),d={r:5,c:"circle-default"},e={dataBind:function(a){var e=this.chart();return e.c=a.c||d.c,e.r=b.isPositiveNumber(a.r,c.invalidRadio)||d.r,this.selectAll("circle").data(a.data)},insert:function(){return this.append("circle")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart();return this.attr("class",function(b){return b.c||a.c}).attr("r",function(b){return b.r||a.r}).attr("cx",function(b){return a.xscale.map(b.x,0)}).attr("cy",function(b){return a.yscale.map(b.y,0)}).attr("dx",function(a){return a.x}).attr("dy",function(a){return a.y}),this},exit:function(){return this.remove()}}};this.layer("circles",this.base.append("g"),e)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/donut",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.DONUT,{initialize:function(b){var c=b.dataValidator,d={invalidRadius:"Radius for donut chart must be numerical values"},e={ir:90,or:50},f=a.layout.pie().sort(null).value(function(a){return a.y}),g=a.svg.arc(),h={dataBind:function(a){var b=this.chart();b.xPosition=a.xPosition||b.w/2,b.yPosition=a.yPosition||b.h/2;var h=c.isNumber(a.ir,d.invalidRadius)||e.ir,i=c.isNumber(a.or,d.invalidRadius)||e.or;return g=g.innerRadius(h).outerRadius(i),this.selectAll("path").data(f(a.data))},insert:function(){return this.append("path")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart();return this.attr("transform","translate("+a.xPosition+","+a.yPosition+")").attr("class",function(a){return a.data.c}).attr("d",g),this},exit:function(){return this.remove()}}};this.layer("paths",this.base.append("g"),h)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/line",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.LINE,{initialize:function(){var b={c:"line-default"},c=a.svg.line(),d={dataBind:function(a){var d=this.chart();return c.x(function(a){return d.xscale.map(a.x,0)}).y(function(a){return d.yscale.map(a.y,0)}),d.datum=a.data,d.c=a.c||b.c,this.selectAll("path").data([0])},insert:function(){return this.append("path")},events:{merge:function(){var a=this.chart();return this.datum(a.datum).classed(a.c,!0).attr("d",c),this},exit:function(){return this.remove()}}};this.layer("lineslayer",this.base.append("g"),d)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/roundedrectangle",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.ROUNDED_RECTANGLE,{initialize:function(a){var b=a.dataValidator,c={invalidRH:"Invalid value for rectangle height. Must be positive number.",invalidRW:"Invalid value for rectangle width. Must be positive number.",invalidRX:"Invalid value for rectangle rx. Must be positive number.",invalidRY:"Invalid value for rectangle ry. Must be positive number."},d={rh:20,rw:20,rc:"rounded-rectangle-default",rx:5,ry:5},e={dataBind:function(a){var e=this.chart();return e.rh=b.isPositiveNumber(a.rh,c.invalidRH)||d.rh,e.rw=b.isPositiveNumber(a.rw,c.invalidRH)||d.rw,e.rx=b.isPositiveNumber(a.rx,c.invalidRX)||d.rx,e.ry=b.isPositiveNumber(a.ry,c.invalidRY)||d.ry,e.rc=a.rc||d.rc,this.selectAll("rect").data(a.data)},insert:function(){return this.append("rect")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart();return this.attr("height",a.rh).attr("width",a.rw).attr("x",function(b){return a.xscale.map(b.x,1)+a.xscale.band(1)/2-a.rw/2}).attr("y",function(b){return a.yscale.map(b.y)-a.rh/2}).attr("rx",a.rx).attr("ry",a.ry).attr("class",function(b){return b.rc||a.rc}),this},exit:function(){return this.remove()}}};this.layer("roundedrects",this.base,e)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/text",["d3.chart","charty/chartynames","charty/simpledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.TEXT,{initialize:function(){var a={dataBind:function(a){return this.selectAll("text").data(a.data)},insert:function(){return this.append("text")},events:{enter:function(){var a=this.chart();return this.attr("text-anchor","middle").attr("dy","0.35em"),a.eventManager.bindAll(this),this},merge:function(){var a=this.chart();return this.attr("x",function(b){return a.xscale.map(b.x,1)+a.xscale.band(1)/2}).attr("y",function(b){return a.yscale.map(b.y)}).text(function(a){return a.y}),this},exit:function(){return this.remove()}}};this.layer("texts",this.base.append("g"),a)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/triangle",["d3.chart","charty/chartynames","underscore","charty/simpledatagroup"],function(a,c,d){return b(a,c,d)}):b(d3,Charty,_)}(this,function(a,b,c){a.chart(b.CHART_NAMES.SIMPLE_DATA_GROUP).extend(b.CHART_NAMES.TRIANGLE,{initialize:function(){var a={c:"triangle-default"},b={dataBind:function(b){var c=this.chart();return c.c=b.c||a.c,this.selectAll("path").data(b.data)},insert:function(){return this.append("path")},events:{enter:function(){return this.chart().eventManager.bindAll(this),this},merge:function(){var a=this.chart();return this.attr("class",function(b){return b.c||a.c}).attr("d",function(b){return a.getPath(b)}),this},exit:function(){return this.remove()}}};this.layer("triangles",this.base.append("g"),b)},transform:function(a){var b=[],d=a.next().data,e=this,f=this.xscale.band(1),g=this.yscale.map(0);return c.each(d,function(a){var c=e.xscale.map(a.x,1),d=c+f/2,h=c+f,i=g,j=e.yscale.map(a.y);b.unshift({x1:c,y1:i,x2:d,y2:j,x3:d,y3:i,c:a.c1,x:a.x,y:a.y}),b.unshift({x1:d,y1:i,x2:d,y2:j,x3:h,y3:i,c:a.c2,x:a.x,y:a.y})}),{data:b,c:a.first().c}},getPath:function(a){return"M "+a.x1+" "+a.y1+" L "+a.x2+" "+a.y2+" L "+a.x3+" "+a.y3}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/multipledatagroup",["d3.chart","charty/chartynames","charty/basechart"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.BASE_CHART).extend(b.CHART_NAMES.MULTIPLE_DATA_GROUP,{transform:function(a){return this._calculateDomains(a),a},setDefaultXDomain:function(a){return this.defaultXDomain=a,this},setDefaultYDomain:function(a){return this.defaultYDomain=a,this},_calculateDomains:function(a){this.defaultXDomain?this.xscale.setDomain(this.defaultXDomain):this.xscale.calculateDomain(a,function(a){return a.x}),this.xscale.setRange(this.zScale?this.zScale.band(1):this.w),this.defaultYDomain?this.yscale.setDomain(this.defaultYDomain):this.yscale.calculateDomain(a,function(a){return a.y}),this.yscale.setRange(this.h)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/multipleinstancesmixin",["d3.chart","charty/chartynames","charty/basechart"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.BASE_CHART).extend(b.CHART_NAMES.MULTIPLE_INSTANCES_MIXIN,{initialize:function(a){var b=a.instances;this.componentsMixins=[];for(var c=a.instances-1;c>=0;c--){var d=this.mixin(a.chartName,this.base.append("g"),a);d.factor=b--/a.instances,this.setMixins(d)}}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/xyaxis",["d3.chart","charty/chartynames","charty/axis"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.XY_AXIS,{initialize:function(a){this.xaxis=this.mixin(b.CHART_NAMES.AXIS,this.base.append("g"),a).orient("bottom").setTextLabel(a.xAxisLabel).tickCount(a.xTickCount).tickFormat(a.xAxisTickFormat),this.yaxis=this.mixin(b.CHART_NAMES.AXIS,this.base.append("g"),a).orient("left").setTextLabel(a.yAxisLabel,"-90").tickCount(a.yTickCount).tickFormat(a.yAxisTickFormat)},showAsGrid:function(a){return this.xaxis.showAsGrid(a),this.yaxis.showAsGrid(a),this},height:function(a){return this.xaxis.ytranslate(a).tickSize(a),this.yaxis.height(a),this},width:function(a){return this.yaxis.tickSize(a).width(a),this.xaxis.width(a),this},setXScale:function(a){return this.xaxis.setScale(a),this},setYScale:function(a){return this.yaxis.setScale(a),this}})}),function(a,b){return"function"==typeof define&&define.amd?void define("charty/yxyaxis",["d3.chart","charty/chartynames","charty/xyaxis"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.YXY_AXIS,{initialize:function(a){this.xyaxis=this.mixin(b.CHART_NAMES.XY_AXIS,this.base.append("g"),a),this.yaxisright=this.mixin(b.CHART_NAMES.AXIS,this.base.append("g"),a).orient("right").tickCount(a.yTickCount).tickFormat(a.yAxisTickFormat)},showAsGrid:function(a){return this.xyaxis.showAsGrid(a),this},height:function(a){return this.xyaxis.height(a),this},width:function(a){return this.yaxisright.xtranslate(a),this.xyaxis.width(a),this},setXScale:function(a){return this.xyaxis.setXScale(a),this},setYScale:function(a){return this.xyaxis.setYScale(a),this.yaxisright.setScale(a),this}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/barchart",["d3.chart","charty/chartynames","charty/bar","charty/horizontalbar","charty/multipledatagroup","charty/xyaxis","charty/yxyaxis","charty/multipleinstancesmixin"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(b.CHART_NAMES.BAR_CHART,{initialize:function(a){a.instances=a.instances||1,a.chartName=a.barType;var c=this.mixin(a.axisSystem,this.base.append("g"),a).showAsGrid(a.showAsGrid),d=this.mixin(b.CHART_NAMES.MULTIPLE_INSTANCES_MIXIN,this.base.append("g"),a);this.setMixins(d,c)}})}),function(a,b){return"function"==typeof define&&define.amd?void define("charty/groupedbarchart",["d3.chart","charty/scalesfactory","charty/chartynames","charty/bar","charty/xyaxis","charty/multipledatagroup","charty/multipleinstancesmixin"],function(a,c,d){return b(a,c,d)}):b(d3,ScaleFactory,Charty)}(this,function(a,b,c){a.chart(c.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(c.CHART_NAMES.GROUPED_BAR_CHART,{initialize:function(a){this.axisSystem=this.mixin(a.axisSystem,this.base.append("g"),a).showAsGrid(a.showAsGrid),this.bars=this.mixin(c.CHART_NAMES.BAR,this.base.append("g"),a),this.setMixins(this.axisSystem,this.bars)},transform:function(a){a.first();return this.defaultZDomain?this.zScale.setDomain(this.defaultZDomain):this.zScale.calculateDomain(a,function(a){return a.z}),this.zScale.setRange(this.w),this._calculateDomains(a),this.axisSystem.setXScale(this.zScale),this.bars.setZScale(this.zScale),a},setZScale:function(a){return a&&(this.zScale=a),this},setDefaultZDomain:function(a){return this.defaultZDomain=a,this}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/donutwithinnertext",["d3.chart","charty/chartynames","charty/donut"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.DONUT).extend(b.CHART_NAMES.DONUT_INNER_TEXT,{initialize:function(a){var b=a.dataValidator,c={invalidFontSize:"Invalid value : font size must be positive"},d={fontSize:55},e={dataBind:function(a){var e=this.chart(),f=a.data,g=f[0].y.toString()+"%";return e.fontSize=b.isPositiveNumber(a.fontSize,c.invalidFontSize)||d.fontSize,e.xPosition=a.xPosition||e.w/2,e.yPosition=a.yPosition||e.h/2,this.selectAll("text").data([g])},insert:function(){return this.append("text")},events:{enter:function(){var a=this.chart();return this.attr("x",a.xPosition).attr("y",a.yPosition).attr("dy","0.35em").attr("text-anchor","middle").attr("font-size",a.fontSize).text(function(a){return a}),this},update:function(){return this.text(function(a){return a}),this},exit:function(){return this.remove()}}};this.layer("donutText",this.base.append("g"),e)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/labeledtrianglechart",["d3.chart","charty/chartynames","charty/triangle","charty/roundedrectangle","charty/text","charty/multipleinstancesmixin","charty/yxyaxis","charty/multipledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(b.CHART_NAMES.LABELED_TRIANGLE_CHART,{initialize:function(a){var c=this.mixin(a.axisSystem,this.base.append("g"),a).showAsGrid(a.showAsGrid),d=this.mixin(b.CHART_NAMES.TRIANGLE,this.base.append("g"),a),e=this.mixin(b.CHART_NAMES.ROUNDED_RECTANGLE,this.base.append("g"),a),f=this.mixin(b.CHART_NAMES.TEXT,this.base.append("g"),a);this.setMixins(d,e,f,c)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/linechart",["d3.chart","charty/chartynames","charty/line","charty/multipledatagroup"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(b.CHART_NAMES.LINE_CHART,{initialize:function(a){a.chartName=b.CHART_NAMES.LINE,a.instances=a.instances||1;var c=this.mixin(a.axisSystem,this.base.append("g"),a).showAsGrid(a.showAsGrid),d=this.mixin(b.CHART_NAMES.MULTIPLE_INSTANCES_MIXIN,this.base.append("g"),a);this.setMixins(d,c)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/linechartcircles",["d3.chart","charty/chartynames","charty/multipledatagroup","charty/linechart","charty/multipleinstancesmixin"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(b.CHART_NAMES.LINE_CHART_CIRCLES,{initialize:function(a){var c=this.mixin(b.CHART_NAMES.LINE_CHART,this.base.append("g"),a);a.chartName=b.CHART_NAMES.CIRCLE,a.instances=a.instances||1;var d=this.mixin(b.CHART_NAMES.MULTIPLE_INSTANCES_MIXIN,this.base.append("g"),a);this.setMixins(c,d)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/scatterplot",["d3.chart","charty/chartynames","charty/circle","charty/multipledatagroup","charty/yxyaxis","charty/multipleinstancesmixin"],function(a,c){return b(a,c)}):b(d3,Charty)}(this,function(a,b){a.chart(b.CHART_NAMES.MULTIPLE_DATA_GROUP).extend(b.CHART_NAMES.SCATTERPLOT,{initialize:function(a){a.chartName=b.CHART_NAMES.CIRCLE,a.instances=a.instances||1;var c=this.mixin(a.axisSystem,this.base.append("g"),a).showAsGrid(a.showAsGrid),d=this.mixin(b.CHART_NAMES.MULTIPLE_INSTANCES_MIXIN,this.base,a);this.setMixins(d,c)}})}),function(a,b){"function"==typeof define&&define.amd?define("charty/accessor",function(){return b()}):a.Accessor=b()}(this,function(){function a(){this.index=-1}return a.prototype.first=function(){return this.data[0]},a.prototype.next=function(){return this.hasNext()||this.restart(),this.data[++this.index]},a.prototype.hasNext=function(){return this.index+1<this.data.length},a.prototype.restart=function(){return this.index=-1,this},a.prototype.getData=function(){return this.data},a.prototype.setData=function(a){return this.data=a,this},a}),function(a,b){"function"==typeof define&&define.amd?define("charty/functionevent",["d3"],function(a){return b(a)}):a.FunctionEvent=b(d3)}(this,function(){function a(a){this.opts=a}return a.prototype.bind=function(a){return a.on(this.opts.on,this.opts.execute),this},a}),function(a,b){"function"==typeof define&&define.amd?define("charty/bootstrapevent",["bootstrap","underscore","d3"],function(a,c,d){return b(a,c,d)}):a.BootstrapEvent=b($,_,d3)}(this,function(a,b){function c(a){this.opts=a}return c.prototype.bind=function(c){var d=this;return b.each(c[0],function(b){var c=d3.select(b);c.attr("data-toggle",d.opts.type),a(b)[d.opts.type]({placement:d.opts.placement,trigger:d.opts.trigger,html:!0,container:"body",context:c,content:function(){return d.opts.content(b)}})}),this},c}),function(a,b){"function"==typeof define&&define.amd?define("charty/eventfactory",["charty/functionevent","charty/bootstrapevent"],function(a,c){return b(a,c)}):a.EventFactory=b(FunctionEvent,BootstrapEvent)}(this,function(a,b){function c(){}return c.prototype.createEvent=function(c){var d=null;switch(c.type){case"function":d=new a({on:c.evt,execute:c.bind});break;case"bootstrap":d=new b({trigger:c.evt,type:c.element,content:c.bind,placement:c.placement})}return d},c}),function(a,b){"function"==typeof define&&define.amd?define("charty/eventmanager",["charty/functionevent","charty/bootstrapevent","underscore"],function(a,c,d){return b(a,c,d)}):a.EventManager=b(FunctionEvent,BootstrapEvent,_)}(this,function(a,b,c){function d(){this.events=[]}return d.prototype.addEvent=function(a){return this.events.push(a),this},d.prototype.bindAll=function(a){return c.each(this.events,function(b){b.bind(a)}),this},d}),function(a,b){"function"==typeof define&&define.amd?define("charty/chartinterface",["charty/accessor","charty/eventmanager","charty/eventfactory","underscore"],function(a,c,d,e){return b(a,c,d,e)}):a.ChartInterface=b(Accessor,EventManager,EventFactory,_)}(this,function(a,b,c,d){var e=function(b,c,d,e,f){this.accessor=new a,this.chart=b,this.rootSelection=c,this.svg=d,this.gSvg=e,this.eventFactory=f};return e.prototype.setDimensions=function(a,b,c){var d={left:0,top:0,lfactor:1,tfactor:1},e=c||parseInt(this.rootSelection.style("height"),10)||200,f=b||parseInt(this.rootSelection.style("width"),10)||200;this.svg.attr("width",f).attr("height",e).attr("viewBox","0 0 "+f+" "+e).attr("preserveAspectRatio","XminYmin"),a&&(d={left:a.marginleft||0,top:a.margintop||0,lfactor:a.marginlfactor||1,tfactor:a.margintfactor||1},this.gSvg.attr("transform","translate("+d.left+","+d.top+")")),f*=d.lfactor,e*=d.tfactor,this.chart.height(e).width(f)},e.prototype.draw=function(a,c){var e=new b,f=this;return d.each(c,function(a){e.addEvent(f.eventFactory.createEvent(a))}),this.chart.setEventManager(e),this.accessor.setData(a),this.chart.draw(this.accessor),this},e.prototype.redimension=function(a,b){var c=a||parseInt(this.rootSelection.style("height"),10),d=b||parseInt(this.rootSelection.style("width"),10),e=parseInt(this.svg.style("height"),10),f=parseInt(this.svg.style("width"),10);return(c!==e||d!==f)&&(this.svg.attr("height",c),this.svg.attr("width",d)),this},e.prototype.setBackgroundImage=function(a){return this.rootSelection.classed(a,!0),this.imgClass=a,this},e.prototype.removeBackgroundImage=function(){return this.rootSelection.classed(this.imgClass,!1),this},e.prototype.setTitle=function(a,b,c){return this.svg.append("text").attr("x",b||0).attr("y",c||30).text(a),this},e}),function(a,b){"function"==typeof define&&define.amd?define("charty/charty",["charty/chartynames","charty/scalesfactory","charty/chartinterface","charty/datavalidator","charty/eventfactory","charty/barchart","charty/labeledtrianglechart","charty/linechart","charty/scatterplot","charty/donut","charty/donutwithinnertext","charty/linechartcircles","charty/groupedbarchart"],function(a,c,d,e,f){return b(a,c,d,e,f)}):a.Charty=b(Charty,ScaleFactory,ChartInterface,DataValidator,EventFactory)}(this,function(a,b,c,d,e){var f=new b,g=new d,h=new e;return a.chart=function(a){if(!a.root||!a.chartName)throw new Error("Root element or chart name not defined");var b=d3.select(a.root),d=b.append("svg");if(a.gradients){var e=d.append("defs");_.each(a.gradients,function(a){var b=e.append("linearGradient");b.attr("id",a.id),"vertical"===a.orientation&&b.attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",1),_.each(a.classes,function(a){b.append("stop").attr("class",a.className).attr("offset",a.offset)})})}var i=d.append("g");a.dataValidator=g;var j=i.chart(a.chartName,a);return a.xAxis&&j.setXScale(f.scale(a.xAxis,"x")),a.yAxis&&j.setYScale(f.scale(a.yAxis,"y")),a.zAxis&&j.setZScale(f.scale(a.zAxis,"x")),a.defaultXDomain&&j.setDefaultXDomain(a.defaultXDomain),a.defaultYDomain&&j.setDefaultYDomain(a.defaultYDomain),a.defaultZDomain&&j.setDefaultZDomain(a.defaultZDomain),new c(j,b,d,i,h)},a});